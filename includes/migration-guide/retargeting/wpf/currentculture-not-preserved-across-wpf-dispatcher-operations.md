---
ms.openlocfilehash: 190bca720504535cb54e498ca8da23fbb6634ad4
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: HT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/15/2020
ms.locfileid: "67804453"
---
### <a name="currentculture-is-not-preserved-across-wpf-dispatcher-operations"></a><span data-ttu-id="e1e35-101">CurrentCulture는 WPF 발송자 작업 간에 유지되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="e1e35-101">CurrentCulture is not preserved across WPF Dispatcher operations</span></span>

|   |   |
|---|---|
|<span data-ttu-id="e1e35-102">설명</span><span class="sxs-lookup"><span data-stu-id="e1e35-102">Details</span></span>|<span data-ttu-id="e1e35-103">.NET Framework 4.6부터, <xref:System.Windows.Threading.Dispatcher?displayProperty=name> 내에서 수행된 <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> 또는 <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name>에 대한 변경 내용은 해당 디스패처 작업이 끝날 때 손실됩니다.</span><span class="sxs-lookup"><span data-stu-id="e1e35-103">Beginning in the .NET Framework 4.6, changes to <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> or <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name> made within a <xref:System.Windows.Threading.Dispatcher?displayProperty=name> will be lost at the end of that dispatcher operation.</span></span> <span data-ttu-id="e1e35-104">마찬가지로, 디스패처 작업 외부에서 수행된 <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> 또는 <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name>의 변경 내용은 해당 작업이 실행될 때 반영되지 않을 수 있습니다. 실제로 이는 <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> 및 <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name> 변경 내용이 WPF UI 콜백과 WPF 애플리케이션의 다른 코드 간에 흐르지 않을 수 있음을 의미합니다. 이는 .NET Framework 4.6을 대상으로 하는 앱부터 <xref:System.Threading.ExecutionContext?displayProperty=name>이 <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> 및 <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name>을 실행 컨텍스트에 저장하도록 변경되었기 때문입니다.</span><span class="sxs-lookup"><span data-stu-id="e1e35-104">Similarly, changes to <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> or <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name> made outside of a Dispatcher operation may not be reflected when that operation executes.Practically speaking, this means that <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> and <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name> changes may not flow between WPF UI callbacks and other code in a WPF application.This is due to a change in <xref:System.Threading.ExecutionContext?displayProperty=name> that causes <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> and <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name> to be stored in the execution context beginning with apps targeting the .NET Framework 4.6.</span></span> <span data-ttu-id="e1e35-105">WPF 발송자 작업이 작업을 시작할 때 사용된 실행 컨텍스트를 저장하고 작업이 완료되면 이전의 컨텍스트를 복원합니다.</span><span class="sxs-lookup"><span data-stu-id="e1e35-105">WPF dispatcher operations store the execution context used to begin the operation and restore the previous context when the operation is completed.</span></span> <span data-ttu-id="e1e35-106">이제는 <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> 및 <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name>가 해당 컨텍스트의 일부이므로 발송자 작업 내의 해당 속성 변경 내용이 작업 외부에서 유지되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="e1e35-106">Because <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> and <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name> are now part of that context, changes to them within a dispatcher operation are not persisted outside of the operation.</span></span>|
|<span data-ttu-id="e1e35-107">제안 해결 방법</span><span class="sxs-lookup"><span data-stu-id="e1e35-107">Suggestion</span></span>|<span data-ttu-id="e1e35-108">이 변경의 영향을 받는 앱은 원하는 <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> 또는 <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name>를 필드에 저장하고 올바른 <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> 및 <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name>가 설정되도록 모든 디스패처 작업 본문(UI 이벤트 콜백 처리기 포함)을 확인하여 문제를 해결할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e1e35-108">Apps affected by this change may work around it by storing the desired <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> or <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name> in a field and checking in all Dispatcher operation bodies (including UI event callback handlers) that the correct <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> and <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name> are set.</span></span> <span data-ttu-id="e1e35-109">또는 이 WPF 변경 내용에 기반을 둔 ExecutionContext 변경 내용이 .NET Framework 4.6 이상을 대상으로 하는 앱에만 영향을 주기 때문에 대상을 .NET Framework 4.5.2로 변경하면 이 문제를 방지할 수 있습니다. 또한 .NET Framework 4.6 이상을 대상으로 하는 앱은 다음 호환성 스위치를 설정하여 이 문제를 해결할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e1e35-109">Alternatively, because the ExecutionContext change underlying this WPF change only affects apps targeting the .NET Framework 4.6 or newer, this break can be avoided by targeting the .NET Framework 4.5.2.Apps that target .NET Framework 4.6 or later can also work around this by setting the following compatibility switch:</span></span><pre><code class="lang-csharp">AppContext.SetSwitch(&quot;Switch.System.Globalization.NoAsyncCurrentCulture&quot;, true);&#13;&#10;</code></pre><span data-ttu-id="e1e35-110">이 문제는 .NET Framework 4.6.2의 WPF에서 해결되었습니다.</span><span class="sxs-lookup"><span data-stu-id="e1e35-110">This issue has been fixed by WPF in .NET Framework 4.6.2.</span></span> <span data-ttu-id="e1e35-111">또한 [KB 3139549](https://support.microsoft.com/kb/3139549)를 통해 .NET Frameworks 4.6, 4.6.1에서 해결되었습니다.</span><span class="sxs-lookup"><span data-stu-id="e1e35-111">It has also been fixed in .NET Frameworks 4.6, 4.6.1 through [KB 3139549](https://support.microsoft.com/kb/3139549).</span></span> <span data-ttu-id="e1e35-112">.NET Framework 4.6 이상을 대상으로 하는 애플리케이션은 디스패처 작업 전반에 걸쳐 WPF 애플리케이션(<xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name>/<xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name>)에서 올바른 동작을 자동으로 유지합니다.</span><span class="sxs-lookup"><span data-stu-id="e1e35-112">Applications targeting .NET Framework 4.6 or later will automatically get the right behavior in WPF applications - <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name>/<xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name>) would be preserved across Dispatcher operations.</span></span>|
|<span data-ttu-id="e1e35-113">Scope</span><span class="sxs-lookup"><span data-stu-id="e1e35-113">Scope</span></span>|<span data-ttu-id="e1e35-114">부</span><span class="sxs-lookup"><span data-stu-id="e1e35-114">Minor</span></span>|
|<span data-ttu-id="e1e35-115">버전</span><span class="sxs-lookup"><span data-stu-id="e1e35-115">Version</span></span>|<span data-ttu-id="e1e35-116">4.6</span><span class="sxs-lookup"><span data-stu-id="e1e35-116">4.6</span></span>|
|<span data-ttu-id="e1e35-117">형식</span><span class="sxs-lookup"><span data-stu-id="e1e35-117">Type</span></span>|<span data-ttu-id="e1e35-118">대상 변경</span><span class="sxs-lookup"><span data-stu-id="e1e35-118">Retargeting</span></span>|
